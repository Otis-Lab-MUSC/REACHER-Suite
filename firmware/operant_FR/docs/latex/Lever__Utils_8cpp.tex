\doxysection{Lever\+\_\+\+Utils.\+cpp File Reference}
\hypertarget{Lever__Utils_8cpp}{}\label{Lever__Utils_8cpp}\index{Lever\_Utils.cpp@{Lever\_Utils.cpp}}
{\ttfamily \#include "{}Lever.\+h"{}}\newline
{\ttfamily \#include "{}Cue.\+h"{}}\newline
{\ttfamily \#include "{}Cue\+\_\+\+Utils.\+h"{}}\newline
{\ttfamily \#include "{}Pump.\+h"{}}\newline
{\ttfamily \#include "{}Pump\+\_\+\+Utils.\+h"{}}\newline
{\ttfamily \#include "{}Laser.\+h"{}}\newline
{\ttfamily \#include "{}Program\+\_\+\+Utils.\+h"{}}\newline
{\ttfamily \#include $<$Arduino.\+h$>$}\newline
Include dependency graph for Lever\+\_\+\+Utils.\+cpp\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{Lever__Utils_8cpp__incl}
\end{center}
\end{figure}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{Lever__Utils_8cpp_ad5016dcc0306b5d42a61f9fd73a2a76f}{pressing\+Data\+Entry}} (\mbox{\hyperlink{classLever}{Lever}} \texorpdfstring{$\ast$}{*}\&lever, \mbox{\hyperlink{classPump}{Pump}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{Program__Utils_8cpp_a7baeb34b0eec2b69efd06c72c013b77c}{pump}})
\begin{DoxyCompactList}\small\item\em Logs lever press and release data to the serial monitor. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{Lever__Utils_8cpp_ad6aa5c3ae89d8f8dda4a7001e2380567}{define\+Press\+Activity}} (bool program\+Running, \mbox{\hyperlink{classLever}{Lever}} \texorpdfstring{$\ast$}{*}\&lever, \mbox{\hyperlink{classCue}{Cue}} \texorpdfstring{$\ast$}{*}cue, \mbox{\hyperlink{classPump}{Pump}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{Program__Utils_8cpp_a7baeb34b0eec2b69efd06c72c013b77c}{pump}}, \mbox{\hyperlink{classLaser}{Laser}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{Laser__Utils_8cpp_aa8caff3a540c333384c5af436f68d738}{laser}})
\begin{DoxyCompactList}\small\item\em Defines the type of lever press and triggers associated actions. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{Lever__Utils_8cpp_a93ae7a86148ee9921067cb4271db7ac4}{monitor\+Pressing}} (bool program\+Running, \mbox{\hyperlink{classLever}{Lever}} \texorpdfstring{$\ast$}{*}\&lever, \mbox{\hyperlink{classCue}{Cue}} \texorpdfstring{$\ast$}{*}cue, \mbox{\hyperlink{classPump}{Pump}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{Program__Utils_8cpp_a7baeb34b0eec2b69efd06c72c013b77c}{pump}}, \mbox{\hyperlink{classLaser}{Laser}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{Laser__Utils_8cpp_aa8caff3a540c333384c5af436f68d738}{laser}})
\begin{DoxyCompactList}\small\item\em Monitors lever pressing with debouncing and triggers associated actions. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
uint32\+\_\+t \mbox{\hyperlink{Lever__Utils_8cpp_a9fb522f26fea2e79b1ef70a1619db971}{timeout\+Interval\+Start}}
\begin{DoxyCompactList}\small\item\em Start time of the timeout interval (ms). \end{DoxyCompactList}\item 
uint32\+\_\+t \mbox{\hyperlink{Lever__Utils_8cpp_a774db95a7f5ffdc9ab605a40bcf9bbd3}{timeout\+Interval\+End}}
\begin{DoxyCompactList}\small\item\em End time of the timeout interval (ms). \end{DoxyCompactList}\item 
uint32\+\_\+t \mbox{\hyperlink{Lever__Utils_8cpp_a9828ad28dd5b61a2f43d633cb63b516d}{timeout\+Interval\+Length}}
\begin{DoxyCompactList}\small\item\em Length of the timeout interval (ms). \end{DoxyCompactList}\item 
int32\+\_\+t \mbox{\hyperlink{Lever__Utils_8cpp_a8ef916f0ac476fe6b9503d9d69cd2a31}{press\+Count}}
\begin{DoxyCompactList}\small\item\em Counter for lever presses. \end{DoxyCompactList}\item 
int32\+\_\+t \mbox{\hyperlink{Lever__Utils_8cpp_ace924c691a0e314b880ea347074fd48b}{f\+Ratio}}
\begin{DoxyCompactList}\small\item\em Fixed ratio for reward delivery. \end{DoxyCompactList}\item 
uint32\+\_\+t \mbox{\hyperlink{Lever__Utils_8cpp_a35b29f5af0029faab2012f243c2b35e1}{difference\+From\+Start\+Time}}
\begin{DoxyCompactList}\small\item\em Offset from program start time (ms). \end{DoxyCompactList}\item 
\mbox{\hyperlink{classLever}{Lever}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{Lever__Utils_8cpp_a67eb07e15d0dc3dc903a298f24af8f73}{active\+Lever}}
\begin{DoxyCompactList}\small\item\em Pointer to the active lever. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classLever}{Lever}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{Lever__Utils_8cpp_a4d803a9c12f24b7097713bedd363b74c}{inactive\+Lever}}
\begin{DoxyCompactList}\small\item\em Pointer to the inactive lever. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\Hypertarget{Lever__Utils_8cpp_ad6aa5c3ae89d8f8dda4a7001e2380567}\label{Lever__Utils_8cpp_ad6aa5c3ae89d8f8dda4a7001e2380567} 
\index{Lever\_Utils.cpp@{Lever\_Utils.cpp}!definePressActivity@{definePressActivity}}
\index{definePressActivity@{definePressActivity}!Lever\_Utils.cpp@{Lever\_Utils.cpp}}
\doxysubsubsection{\texorpdfstring{definePressActivity()}{definePressActivity()}}
{\footnotesize\ttfamily void define\+Press\+Activity (\begin{DoxyParamCaption}\item[{bool}]{program\+Running,  }\item[{\mbox{\hyperlink{classLever}{Lever}} \texorpdfstring{$\ast$}{*}\&}]{lever,  }\item[{\mbox{\hyperlink{classCue}{Cue}} \texorpdfstring{$\ast$}{*}}]{cue,  }\item[{\mbox{\hyperlink{classPump}{Pump}} \texorpdfstring{$\ast$}{*}}]{pump,  }\item[{\mbox{\hyperlink{classLaser}{Laser}} \texorpdfstring{$\ast$}{*}}]{laser }\end{DoxyParamCaption})}



Defines the type of lever press and triggers associated actions. 

Defines the type of lever press and associated actions.

Determines whether a lever press is "{}\+ACTIVE"{}, "{}\+TIMEOUT"{}, or "{}\+INACTIVE"{} based on timing and device states, and triggers rewards or updates counters accordingly.


\begin{DoxyParams}{Parameters}
{\em program\+Running} & Boolean indicating if the program is running. \\
\hline
{\em lever} & Reference to a pointer to the \doxylink{classLever}{Lever} object being pressed. \\
\hline
{\em cue} & Pointer to the \doxylink{classCue}{Cue} object (optional, can be nullptr). \\
\hline
{\em pump} & Pointer to the \doxylink{classPump}{Pump} object (optional, can be nullptr). \\
\hline
{\em laser} & Pointer to the \doxylink{classLaser}{Laser} object (optional, can be nullptr). \\
\hline
\end{DoxyParams}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{Lever__Utils_8cpp_ad6aa5c3ae89d8f8dda4a7001e2380567_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=322pt]{Lever__Utils_8cpp_ad6aa5c3ae89d8f8dda4a7001e2380567_icgraph}
\end{center}
\end{figure}
\Hypertarget{Lever__Utils_8cpp_a93ae7a86148ee9921067cb4271db7ac4}\label{Lever__Utils_8cpp_a93ae7a86148ee9921067cb4271db7ac4} 
\index{Lever\_Utils.cpp@{Lever\_Utils.cpp}!monitorPressing@{monitorPressing}}
\index{monitorPressing@{monitorPressing}!Lever\_Utils.cpp@{Lever\_Utils.cpp}}
\doxysubsubsection{\texorpdfstring{monitorPressing()}{monitorPressing()}}
{\footnotesize\ttfamily void monitor\+Pressing (\begin{DoxyParamCaption}\item[{bool}]{program\+Running,  }\item[{\mbox{\hyperlink{classLever}{Lever}} \texorpdfstring{$\ast$}{*}\&}]{lever,  }\item[{\mbox{\hyperlink{classCue}{Cue}} \texorpdfstring{$\ast$}{*}}]{cue,  }\item[{\mbox{\hyperlink{classPump}{Pump}} \texorpdfstring{$\ast$}{*}}]{pump,  }\item[{\mbox{\hyperlink{classLaser}{Laser}} \texorpdfstring{$\ast$}{*}}]{laser }\end{DoxyParamCaption})}



Monitors lever pressing with debouncing and triggers associated actions. 

Monitors lever pressing with debouncing.

Continuously checks the lever state, applies debouncing, and handles press/release events.


\begin{DoxyParams}{Parameters}
{\em program\+Running} & Boolean indicating if the program is running. \\
\hline
{\em lever} & Reference to a pointer to the \doxylink{classLever}{Lever} object being monitored. \\
\hline
{\em cue} & Pointer to the \doxylink{classCue}{Cue} object (optional, can be nullptr). \\
\hline
{\em pump} & Pointer to the \doxylink{classPump}{Pump} object (optional, can be nullptr). \\
\hline
{\em laser} & Pointer to the \doxylink{classLaser}{Laser} object (optional, can be nullptr). \\
\hline
\end{DoxyParams}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{Lever__Utils_8cpp_a93ae7a86148ee9921067cb4271db7ac4_cgraph}
\end{center}
\end{figure}
\Hypertarget{Lever__Utils_8cpp_ad5016dcc0306b5d42a61f9fd73a2a76f}\label{Lever__Utils_8cpp_ad5016dcc0306b5d42a61f9fd73a2a76f} 
\index{Lever\_Utils.cpp@{Lever\_Utils.cpp}!pressingDataEntry@{pressingDataEntry}}
\index{pressingDataEntry@{pressingDataEntry}!Lever\_Utils.cpp@{Lever\_Utils.cpp}}
\doxysubsubsection{\texorpdfstring{pressingDataEntry()}{pressingDataEntry()}}
{\footnotesize\ttfamily void pressing\+Data\+Entry (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classLever}{Lever}} \texorpdfstring{$\ast$}{*}\&}]{lever,  }\item[{\mbox{\hyperlink{classPump}{Pump}} \texorpdfstring{$\ast$}{*}}]{pump }\end{DoxyParamCaption})}



Logs lever press and release data to the serial monitor. 

Logs lever press and release events.

Records the press and release timestamps of a lever, adjusted by the program start time if applicable.


\begin{DoxyParams}{Parameters}
{\em lever} & Reference to a pointer to the \doxylink{classLever}{Lever} object being monitored. \\
\hline
{\em pump} & Pointer to the \doxylink{classPump}{Pump} object (optional, can be nullptr). \\
\hline
\end{DoxyParams}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{Lever__Utils_8cpp_ad5016dcc0306b5d42a61f9fd73a2a76f_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=319pt]{Lever__Utils_8cpp_ad5016dcc0306b5d42a61f9fd73a2a76f_icgraph}
\end{center}
\end{figure}


\doxysubsection{Variable Documentation}
\Hypertarget{Lever__Utils_8cpp_a67eb07e15d0dc3dc903a298f24af8f73}\label{Lever__Utils_8cpp_a67eb07e15d0dc3dc903a298f24af8f73} 
\index{Lever\_Utils.cpp@{Lever\_Utils.cpp}!activeLever@{activeLever}}
\index{activeLever@{activeLever}!Lever\_Utils.cpp@{Lever\_Utils.cpp}}
\doxysubsubsection{\texorpdfstring{activeLever}{activeLever}}
{\footnotesize\ttfamily \mbox{\hyperlink{classLever}{Lever}}\texorpdfstring{$\ast$}{*} active\+Lever\hspace{0.3cm}{\ttfamily [extern]}}



Pointer to the active lever. 

\Hypertarget{Lever__Utils_8cpp_a35b29f5af0029faab2012f243c2b35e1}\label{Lever__Utils_8cpp_a35b29f5af0029faab2012f243c2b35e1} 
\index{Lever\_Utils.cpp@{Lever\_Utils.cpp}!differenceFromStartTime@{differenceFromStartTime}}
\index{differenceFromStartTime@{differenceFromStartTime}!Lever\_Utils.cpp@{Lever\_Utils.cpp}}
\doxysubsubsection{\texorpdfstring{differenceFromStartTime}{differenceFromStartTime}}
{\footnotesize\ttfamily uint32\+\_\+t difference\+From\+Start\+Time\hspace{0.3cm}{\ttfamily [extern]}}



Offset from program start time (ms). 

\Hypertarget{Lever__Utils_8cpp_ace924c691a0e314b880ea347074fd48b}\label{Lever__Utils_8cpp_ace924c691a0e314b880ea347074fd48b} 
\index{Lever\_Utils.cpp@{Lever\_Utils.cpp}!fRatio@{fRatio}}
\index{fRatio@{fRatio}!Lever\_Utils.cpp@{Lever\_Utils.cpp}}
\doxysubsubsection{\texorpdfstring{fRatio}{fRatio}}
{\footnotesize\ttfamily int32\+\_\+t f\+Ratio\hspace{0.3cm}{\ttfamily [extern]}}



Fixed ratio for reward delivery. 

\Hypertarget{Lever__Utils_8cpp_a4d803a9c12f24b7097713bedd363b74c}\label{Lever__Utils_8cpp_a4d803a9c12f24b7097713bedd363b74c} 
\index{Lever\_Utils.cpp@{Lever\_Utils.cpp}!inactiveLever@{inactiveLever}}
\index{inactiveLever@{inactiveLever}!Lever\_Utils.cpp@{Lever\_Utils.cpp}}
\doxysubsubsection{\texorpdfstring{inactiveLever}{inactiveLever}}
{\footnotesize\ttfamily \mbox{\hyperlink{classLever}{Lever}}\texorpdfstring{$\ast$}{*} inactive\+Lever\hspace{0.3cm}{\ttfamily [extern]}}



Pointer to the inactive lever. 

\Hypertarget{Lever__Utils_8cpp_a8ef916f0ac476fe6b9503d9d69cd2a31}\label{Lever__Utils_8cpp_a8ef916f0ac476fe6b9503d9d69cd2a31} 
\index{Lever\_Utils.cpp@{Lever\_Utils.cpp}!pressCount@{pressCount}}
\index{pressCount@{pressCount}!Lever\_Utils.cpp@{Lever\_Utils.cpp}}
\doxysubsubsection{\texorpdfstring{pressCount}{pressCount}}
{\footnotesize\ttfamily int32\+\_\+t press\+Count\hspace{0.3cm}{\ttfamily [extern]}}



Counter for lever presses. 

\Hypertarget{Lever__Utils_8cpp_a774db95a7f5ffdc9ab605a40bcf9bbd3}\label{Lever__Utils_8cpp_a774db95a7f5ffdc9ab605a40bcf9bbd3} 
\index{Lever\_Utils.cpp@{Lever\_Utils.cpp}!timeoutIntervalEnd@{timeoutIntervalEnd}}
\index{timeoutIntervalEnd@{timeoutIntervalEnd}!Lever\_Utils.cpp@{Lever\_Utils.cpp}}
\doxysubsubsection{\texorpdfstring{timeoutIntervalEnd}{timeoutIntervalEnd}}
{\footnotesize\ttfamily uint32\+\_\+t timeout\+Interval\+End\hspace{0.3cm}{\ttfamily [extern]}}



End time of the timeout interval (ms). 

\Hypertarget{Lever__Utils_8cpp_a9828ad28dd5b61a2f43d633cb63b516d}\label{Lever__Utils_8cpp_a9828ad28dd5b61a2f43d633cb63b516d} 
\index{Lever\_Utils.cpp@{Lever\_Utils.cpp}!timeoutIntervalLength@{timeoutIntervalLength}}
\index{timeoutIntervalLength@{timeoutIntervalLength}!Lever\_Utils.cpp@{Lever\_Utils.cpp}}
\doxysubsubsection{\texorpdfstring{timeoutIntervalLength}{timeoutIntervalLength}}
{\footnotesize\ttfamily uint32\+\_\+t timeout\+Interval\+Length\hspace{0.3cm}{\ttfamily [extern]}}



Length of the timeout interval (ms). 

\Hypertarget{Lever__Utils_8cpp_a9fb522f26fea2e79b1ef70a1619db971}\label{Lever__Utils_8cpp_a9fb522f26fea2e79b1ef70a1619db971} 
\index{Lever\_Utils.cpp@{Lever\_Utils.cpp}!timeoutIntervalStart@{timeoutIntervalStart}}
\index{timeoutIntervalStart@{timeoutIntervalStart}!Lever\_Utils.cpp@{Lever\_Utils.cpp}}
\doxysubsubsection{\texorpdfstring{timeoutIntervalStart}{timeoutIntervalStart}}
{\footnotesize\ttfamily uint32\+\_\+t timeout\+Interval\+Start\hspace{0.3cm}{\ttfamily [extern]}}



Start time of the timeout interval (ms). 

