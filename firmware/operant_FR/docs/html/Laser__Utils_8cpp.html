<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>REACHER Firmware Operant FR Paradigm: Laser_Utils.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">REACHER Firmware Operant FR Paradigm<span id="projectnumber">&#160;v1.0.1</span>
   </div>
   <div id="projectbrief">Behavioral experiment control system with levers, cues, pumps, and lasers.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">Laser_Utils.cpp File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="Device_8h_source.html">Device.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="Laser_8h_source.html">Laser.h</a>&quot;</code><br />
<code>#include &lt;Arduino.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for Laser_Utils.cpp:</div>
<div class="dyncontent">
<div class="center"><img src="Laser__Utils_8cpp__incl.png" border="0" usemap="#aLaser__Utils_8cpp" alt=""/></div>
<map name="aLaser__Utils_8cpp" id="aLaser__Utils_8cpp">
<area shape="rect" title=" " alt="" coords="5,5,127,31"/>
<area shape="rect" href="Device_8h.html" title="Defines the base Device class for hardware components." alt="" coords="40,152,119,177"/>
<area shape="poly" title=" " alt="" coords="70,31,80,138,74,139,64,31"/>
<area shape="rect" title=" " alt="" coords="37,225,121,251"/>
<area shape="poly" title=" " alt="" coords="61,32,47,58,32,95,24,136,25,156,30,176,41,197,57,214,53,218,37,200,25,178,20,157,19,136,27,93,42,56,56,29"/>
<area shape="rect" href="Laser_8h.html" title="Defines the Laser class for controlling a laser device." alt="" coords="104,79,172,104"/>
<area shape="poly" title=" " alt="" coords="80,29,118,67,115,71,76,33"/>
<area shape="poly" title=" " alt="" coords="82,178,82,212,77,212,77,178"/>
<area shape="poly" title=" " alt="" coords="130,106,99,143,95,140,126,103"/>
<area shape="poly" title=" " alt="" coords="142,104,142,138,134,178,121,200,106,218,102,214,117,197,129,176,137,138,137,104"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a0c086b00de6df27a18af9a681d766470" id="r_a0c086b00de6df27a18af9a681d766470"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Laser__Utils_8cpp.html#a0c086b00de6df27a18af9a681d766470">manageLaser</a> (<a class="el" href="classLaser.html">Laser</a> &amp;<a class="el" href="Laser__Utils_8cpp.html#aa8caff3a540c333384c5af436f68d738">laser</a>)</td></tr>
<tr class="memdesc:a0c086b00de6df27a18af9a681d766470"><td class="mdescLeft">&#160;</td><td class="mdescRight">Controls the laser's on/off state based on stimulation settings.  <br /></td></tr>
<tr class="separator:a0c086b00de6df27a18af9a681d766470"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e02d0a0bff6e230e9d4c14e9c858479" id="r_a2e02d0a0bff6e230e9d4c14e9c858479"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Laser__Utils_8cpp.html#a2e02d0a0bff6e230e9d4c14e9c858479">logStim</a> (<a class="el" href="classLaser.html">Laser</a> &amp;<a class="el" href="Laser__Utils_8cpp.html#aa8caff3a540c333384c5af436f68d738">laser</a>)</td></tr>
<tr class="memdesc:a2e02d0a0bff6e230e9d4c14e9c858479"><td class="mdescLeft">&#160;</td><td class="mdescRight">Logs the laser stimulation period to the serial monitor.  <br /></td></tr>
<tr class="separator:a2e02d0a0bff6e230e9d4c14e9c858479"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79e6836f16e8a33a776a4d165b3c2a58" id="r_a79e6836f16e8a33a776a4d165b3c2a58"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Laser__Utils_8cpp.html#a79e6836f16e8a33a776a4d165b3c2a58">inStimPeriod</a> (uint32_t currentMillis)</td></tr>
<tr class="memdesc:a79e6836f16e8a33a776a4d165b3c2a58"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if the current time is within the laser's stimulation period.  <br /></td></tr>
<tr class="separator:a79e6836f16e8a33a776a4d165b3c2a58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab303ec826d7ba1a203327c357ead0b28" id="r_ab303ec826d7ba1a203327c357ead0b28"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Laser__Utils_8cpp.html#ab303ec826d7ba1a203327c357ead0b28">stim</a> (<a class="el" href="classLaser.html">Laser</a> &amp;<a class="el" href="Laser__Utils_8cpp.html#aa8caff3a540c333384c5af436f68d738">laser</a>, uint32_t currentMillis)</td></tr>
<tr class="memdesc:ab303ec826d7ba1a203327c357ead0b28"><td class="mdescLeft">&#160;</td><td class="mdescRight">Manages the laser's stimulation behavior based on time and frequency.  <br /></td></tr>
<tr class="separator:ab303ec826d7ba1a203327c357ead0b28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e13a0e8a2e933f40482dbc1bfe67bb1" id="r_a0e13a0e8a2e933f40482dbc1bfe67bb1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Laser__Utils_8cpp.html#a0e13a0e8a2e933f40482dbc1bfe67bb1">manageStim</a> (<a class="el" href="classLaser.html">Laser</a> &amp;<a class="el" href="Laser__Utils_8cpp.html#aa8caff3a540c333384c5af436f68d738">laser</a>)</td></tr>
<tr class="memdesc:a0e13a0e8a2e933f40482dbc1bfe67bb1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Oversees the laser's stimulation mode and timing.  <br /></td></tr>
<tr class="separator:a0e13a0e8a2e933f40482dbc1bfe67bb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:aa8caff3a540c333384c5af436f68d738" id="r_aa8caff3a540c333384c5af436f68d738"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classLaser.html">Laser</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Laser__Utils_8cpp.html#aa8caff3a540c333384c5af436f68d738">laser</a></td></tr>
<tr class="memdesc:aa8caff3a540c333384c5af436f68d738"><td class="mdescLeft">&#160;</td><td class="mdescRight">External reference to the <a class="el" href="classLaser.html" title="A subclass of Device representing a laser with stimulation control.">Laser</a> object.  <br /></td></tr>
<tr class="separator:aa8caff3a540c333384c5af436f68d738"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6972ba35faad57a94ac41bccf414b821" id="r_a6972ba35faad57a94ac41bccf414b821"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Laser__Utils_8cpp.html#a6972ba35faad57a94ac41bccf414b821">programIsRunning</a></td></tr>
<tr class="memdesc:a6972ba35faad57a94ac41bccf414b821"><td class="mdescLeft">&#160;</td><td class="mdescRight">External flag indicating if the program is running.  <br /></td></tr>
<tr class="separator:a6972ba35faad57a94ac41bccf414b821"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35b29f5af0029faab2012f243c2b35e1" id="r_a35b29f5af0029faab2012f243c2b35e1"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Laser__Utils_8cpp.html#a35b29f5af0029faab2012f243c2b35e1">differenceFromStartTime</a></td></tr>
<tr class="memdesc:a35b29f5af0029faab2012f243c2b35e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">External offset from the program start time (in milliseconds).  <br /></td></tr>
<tr class="separator:a35b29f5af0029faab2012f243c2b35e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a79e6836f16e8a33a776a4d165b3c2a58" name="a79e6836f16e8a33a776a4d165b3c2a58"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a79e6836f16e8a33a776a4d165b3c2a58">&#9670;&#160;</a></span>inStimPeriod()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool inStimPeriod </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>currentMillis</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks if the current time is within the laser's stimulation period. </p>
<p>Checks if the current time is within the stimulation period.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">currentMillis</td><td>Current time in milliseconds. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Boolean indicating if the time falls within the stimulation window. </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="Laser__Utils_8cpp_a79e6836f16e8a33a776a4d165b3c2a58_cgraph.png" border="0" usemap="#aLaser__Utils_8cpp_a79e6836f16e8a33a776a4d165b3c2a58_cgraph" alt=""/></div>
<map name="aLaser__Utils_8cpp_a79e6836f16e8a33a776a4d165b3c2a58_cgraph" id="aLaser__Utils_8cpp_a79e6836f16e8a33a776a4d165b3c2a58_cgraph">
<area shape="rect" title="Checks if the current time is within the laser&#39;s stimulation period." alt="" coords="5,31,111,56"/>
<area shape="rect" href="classLaser.html#a82807c0ec5c98bf7aa0d64e9d43508fa" title="Gets the stimulation end time." alt="" coords="162,5,302,31"/>
<area shape="poly" title=" " alt="" coords="110,33,148,28,149,33,111,38"/>
<area shape="rect" href="classLaser.html#a6a3ad1b4ec4388618446dcf88750a888" title="Gets the stimulation start time." alt="" coords="159,55,305,80"/>
<area shape="poly" title=" " alt="" coords="111,48,146,53,145,58,110,53"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="Laser__Utils_8cpp_a79e6836f16e8a33a776a4d165b3c2a58_icgraph.png" border="0" usemap="#aLaser__Utils_8cpp_a79e6836f16e8a33a776a4d165b3c2a58_icgraph" alt=""/></div>
<map name="aLaser__Utils_8cpp_a79e6836f16e8a33a776a4d165b3c2a58_icgraph" id="aLaser__Utils_8cpp_a79e6836f16e8a33a776a4d165b3c2a58_icgraph">
<area shape="rect" title="Checks if the current time is within the laser&#39;s stimulation period." alt="" coords="257,5,363,31"/>
<area shape="rect" href="Laser__Utils_8cpp.html#ab303ec826d7ba1a203327c357ead0b28" title="Manages the laser&#39;s stimulation behavior based on time and frequency." alt="" coords="159,5,209,31"/>
<area shape="poly" title=" " alt="" coords="244,21,210,21,210,15,244,15"/>
<area shape="rect" href="Laser__Utils_8cpp.html#a0e13a0e8a2e933f40482dbc1bfe67bb1" title="Oversees the laser&#39;s stimulation mode and timing." alt="" coords="5,5,111,31"/>
<area shape="poly" title=" " alt="" coords="145,21,111,21,111,15,145,15"/>
</map>
</div>

</div>
</div>
<a id="a2e02d0a0bff6e230e9d4c14e9c858479" name="a2e02d0a0bff6e230e9d4c14e9c858479"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e02d0a0bff6e230e9d4c14e9c858479">&#9670;&#160;</a></span>logStim()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void logStim </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classLaser.html">Laser</a> &amp;&#160;</td>
          <td class="paramname"><em>laser</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Logs the laser stimulation period to the serial monitor. </p>
<p>Logs the laser’s stimulation period to the serial monitor.</p>
<p>Records the start and end times of a stimulation period, adjusted by an optional offset, and marks the event as logged.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">laser</td><td>Reference to the <a class="el" href="classLaser.html" title="A subclass of Device representing a laser with stimulation control.">Laser</a> object whose stimulation is being logged. </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="Laser__Utils_8cpp_a2e02d0a0bff6e230e9d4c14e9c858479_cgraph.png" border="0" usemap="#aLaser__Utils_8cpp_a2e02d0a0bff6e230e9d4c14e9c858479_cgraph" alt=""/></div>
<map name="aLaser__Utils_8cpp_a2e02d0a0bff6e230e9d4c14e9c858479_cgraph" id="aLaser__Utils_8cpp_a2e02d0a0bff6e230e9d4c14e9c858479_cgraph">
<area shape="rect" title="Logs the laser stimulation period to the serial monitor." alt="" coords="5,80,77,105"/>
<area shape="rect" href="classLaser.html#a82807c0ec5c98bf7aa0d64e9d43508fa" title="Gets the stimulation end time." alt="" coords="137,5,277,31"/>
<area shape="poly" title=" " alt="" coords="59,78,89,58,124,40,142,33,144,38,126,44,91,63,62,82"/>
<area shape="rect" href="classLaser.html#a83a98a76ccd435b134674f529d651892" title="Checks if the stimulation has been logged." alt="" coords="137,55,276,80"/>
<area shape="poly" title=" " alt="" coords="77,85,123,77,124,83,78,90"/>
<area shape="rect" href="classLaser.html#a6a3ad1b4ec4388618446dcf88750a888" title="Gets the stimulation start time." alt="" coords="133,104,280,129"/>
<area shape="poly" title=" " alt="" coords="78,95,120,101,119,107,77,100"/>
<area shape="rect" href="classLaser.html#af38ad74257fa02f353995dd762d778ff" title="Sets the logged state of the stimulation." alt="" coords="125,153,288,179"/>
<area shape="poly" title=" " alt="" coords="63,103,126,138,147,146,145,151,124,143,60,108"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="Laser__Utils_8cpp_a2e02d0a0bff6e230e9d4c14e9c858479_icgraph.png" border="0" usemap="#aLaser__Utils_8cpp_a2e02d0a0bff6e230e9d4c14e9c858479_icgraph" alt=""/></div>
<map name="aLaser__Utils_8cpp_a2e02d0a0bff6e230e9d4c14e9c858479_icgraph" id="aLaser__Utils_8cpp_a2e02d0a0bff6e230e9d4c14e9c858479_icgraph">
<area shape="rect" title="Logs the laser stimulation period to the serial monitor." alt="" coords="257,5,329,31"/>
<area shape="rect" href="Laser__Utils_8cpp.html#ab303ec826d7ba1a203327c357ead0b28" title="Manages the laser&#39;s stimulation behavior based on time and frequency." alt="" coords="159,5,209,31"/>
<area shape="poly" title=" " alt="" coords="244,21,210,21,210,15,244,15"/>
<area shape="rect" href="Laser__Utils_8cpp.html#a0e13a0e8a2e933f40482dbc1bfe67bb1" title="Oversees the laser&#39;s stimulation mode and timing." alt="" coords="5,5,111,31"/>
<area shape="poly" title=" " alt="" coords="145,21,111,21,111,15,145,15"/>
</map>
</div>

</div>
</div>
<a id="a0c086b00de6df27a18af9a681d766470" name="a0c086b00de6df27a18af9a681d766470"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c086b00de6df27a18af9a681d766470">&#9670;&#160;</a></span>manageLaser()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void manageLaser </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classLaser.html">Laser</a> &amp;&#160;</td>
          <td class="paramname"><em>laser</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Controls the laser's on/off state based on stimulation settings. </p>
<p>Controls the laser’s on/off state based on stimulation settings.</p>
<p>Turns the laser on or off depending on its stimulation state and action.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">laser</td><td>Reference to the <a class="el" href="classLaser.html" title="A subclass of Device representing a laser with stimulation control.">Laser</a> object to manage. </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="Laser__Utils_8cpp_a0c086b00de6df27a18af9a681d766470_cgraph.png" border="0" usemap="#aLaser__Utils_8cpp_a0c086b00de6df27a18af9a681d766470_cgraph" alt=""/></div>
<map name="aLaser__Utils_8cpp_a0c086b00de6df27a18af9a681d766470_cgraph" id="aLaser__Utils_8cpp_a0c086b00de6df27a18af9a681d766470_cgraph">
<area shape="rect" title="Controls the laser&#39;s on/off state based on stimulation settings." alt="" coords="5,80,116,105"/>
<area shape="rect" href="classLaser.html#ae5304e2800e5e56a81e0f615fd9c0c4d" title="Gets the current laser action." alt="" coords="164,5,321,31"/>
<area shape="poly" title=" " alt="" coords="84,78,163,40,182,33,184,38,165,44,86,82"/>
<area shape="rect" href="classLaser.html#a636afb9728e9f064926c42bccf177581" title="Gets the current stimulation state." alt="" coords="167,55,318,80"/>
<area shape="poly" title=" " alt="" coords="116,82,153,77,154,82,117,88"/>
<area shape="rect" href="classLaser.html#a246d8e4e16ffe74297f4b0c84b91ee2f" title="Turns the laser off." alt="" coords="201,104,284,129"/>
<area shape="poly" title=" " alt="" coords="117,97,188,107,187,112,116,103"/>
<area shape="rect" href="classLaser.html#a5591692df76c51c584f9dc5bbb563d04" title="Turns the laser on." alt="" coords="202,153,283,179"/>
<area shape="poly" title=" " alt="" coords="88,103,165,138,190,147,188,152,163,143,86,108"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="Laser__Utils_8cpp_a0c086b00de6df27a18af9a681d766470_icgraph.png" border="0" usemap="#aLaser__Utils_8cpp_a0c086b00de6df27a18af9a681d766470_icgraph" alt=""/></div>
<map name="aLaser__Utils_8cpp_a0c086b00de6df27a18af9a681d766470_icgraph" id="aLaser__Utils_8cpp_a0c086b00de6df27a18af9a681d766470_icgraph">
<area shape="rect" title="Controls the laser&#39;s on/off state based on stimulation settings." alt="" coords="257,5,368,31"/>
<area shape="rect" href="Laser__Utils_8cpp.html#ab303ec826d7ba1a203327c357ead0b28" title="Manages the laser&#39;s stimulation behavior based on time and frequency." alt="" coords="159,5,209,31"/>
<area shape="poly" title=" " alt="" coords="244,21,210,21,210,15,244,15"/>
<area shape="rect" href="Laser__Utils_8cpp.html#a0e13a0e8a2e933f40482dbc1bfe67bb1" title="Oversees the laser&#39;s stimulation mode and timing." alt="" coords="5,5,111,31"/>
<area shape="poly" title=" " alt="" coords="145,21,111,21,111,15,145,15"/>
</map>
</div>

</div>
</div>
<a id="a0e13a0e8a2e933f40482dbc1bfe67bb1" name="a0e13a0e8a2e933f40482dbc1bfe67bb1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e13a0e8a2e933f40482dbc1bfe67bb1">&#9670;&#160;</a></span>manageStim()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void manageStim </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classLaser.html">Laser</a> &amp;&#160;</td>
          <td class="paramname"><em>laser</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Oversees the laser's stimulation mode and timing. </p>
<p>Oversees the laser’s stimulation mode and timing.</p>
<p>Manages the laser’s stimulation based on its mode (CYCLE or ACTIVE_PRESS), updating periods and states if the device is armed and the program is running.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">laser</td><td>Reference to the <a class="el" href="classLaser.html" title="A subclass of Device representing a laser with stimulation control.">Laser</a> object to manage. </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="Laser__Utils_8cpp_a0e13a0e8a2e933f40482dbc1bfe67bb1_cgraph.png" border="0" usemap="#aLaser__Utils_8cpp_a0e13a0e8a2e933f40482dbc1bfe67bb1_cgraph" alt=""/></div>
<map name="aLaser__Utils_8cpp_a0e13a0e8a2e933f40482dbc1bfe67bb1_cgraph" id="aLaser__Utils_8cpp_a0e13a0e8a2e933f40482dbc1bfe67bb1_cgraph">
<area shape="rect" title="Oversees the laser&#39;s stimulation mode and timing." alt="" coords="5,681,111,707"/>
<area shape="rect" href="classLaser.html#a78c6fce82f25d716161cffc3ee30a03b" title="Checks if the laser is in the active cycle phase." alt="" coords="402,5,542,31"/>
<area shape="poly" title=" " alt="" coords="58,681,65,619,82,521,111,407,132,349,156,294,199,214,238,154,288,103,361,49,394,33,396,38,364,54,292,107,243,157,203,216,161,297,137,351,116,408,87,522,70,619,63,682"/>
<area shape="rect" href="classLaser.html#a82807c0ec5c98bf7aa0d64e9d43508fa" title="Gets the stimulation end time." alt="" coords="641,531,781,556"/>
<area shape="poly" title=" " alt="" coords="98,679,158,662,277,641,371,632,465,620,518,608,580,590,604,579,628,566,651,558,653,563,630,571,607,584,582,595,519,614,465,625,372,637,278,646,159,667,99,684"/>
<area shape="rect" href="classLaser.html#a7b97d95b15d47e04b3abfcc2fbf59f11" title="Gets the current stimulation mode." alt="" coords="161,707,313,732"/>
<area shape="poly" title=" " alt="" coords="111,699,147,704,146,709,110,704"/>
<area shape="rect" href="classLaser.html#a6a3ad1b4ec4388618446dcf88750a888" title="Gets the stimulation start time." alt="" coords="637,580,784,605"/>
<area shape="poly" title=" " alt="" coords="111,689,317,674,449,658,581,634,665,608,667,613,582,639,450,663,318,680,111,695"/>
<area shape="rect" href="classDevice.html#ad11e00f9c5700db962ed3dede2ef9e0c" title="Checks if the device is armed." alt="" coords="172,756,301,781"/>
<area shape="poly" title=" " alt="" coords="83,704,160,742,178,749,176,754,158,747,81,709"/>
<area shape="rect" href="classLaser.html#a4e012a63679a9e6b22013fca8455c947" title="Sets the cycle&#45;up state." alt="" coords="167,805,306,831"/>
<area shape="poly" title=" " alt="" coords="71,705,107,748,132,771,160,792,172,798,169,803,157,796,129,775,103,751,67,708"/>
<area shape="rect" href="classLaser.html#ab5cd0bed016577ddcf7a0758d19644fd" title="Sets the stimulation period start and end times." alt="" coords="159,855,315,880"/>
<area shape="poly" title=" " alt="" coords="67,706,100,771,127,809,160,841,168,846,165,851,157,845,123,812,95,773,62,708"/>
<area shape="rect" href="Laser__Utils_8cpp.html#ab303ec826d7ba1a203327c357ead0b28" title="Manages the laser&#39;s stimulation behavior based on time and frequency." alt="" coords="211,308,262,333"/>
<area shape="poly" title=" " alt="" coords="63,680,221,345,226,347,68,682"/>
<area shape="poly" title=" " alt="" coords="242,307,312,162,323,129,329,101,339,75,361,48,387,32,390,36,364,52,343,77,334,102,329,130,317,164,247,309"/>
<area shape="rect" href="classLaser.html#a3167595b150ae3b064d6decdb6e1aadd" title="Gets the laser pulse frequency." alt="" coords="395,456,549,481"/>
<area shape="poly" title=" " alt="" coords="249,332,294,386,327,417,364,442,383,451,381,456,361,447,323,421,290,390,245,335"/>
<area shape="rect" href="classLaser.html#ae5304e2800e5e56a81e0f615fd9c0c4d" title="Gets the current laser action." alt="" coords="632,12,789,37"/>
<area shape="poly" title=" " alt="" coords="242,306,302,188,337,126,361,92,397,79,462,64,618,36,619,41,463,69,399,84,364,96,341,128,307,190,247,309"/>
<area shape="rect" href="classLaser.html#aa10e3af3e1dca555ee84f09ad93ba219" title="Gets the half&#45;cycle end time." alt="" coords="371,505,573,531"/>
<area shape="poly" title=" " alt="" coords="246,332,261,365,287,409,321,454,364,492,374,498,371,502,361,496,317,458,282,412,257,368,241,335"/>
<area shape="rect" href="classLaser.html#a83a98a76ccd435b134674f529d651892" title="Checks if the stimulation has been logged." alt="" coords="641,259,780,284"/>
<area shape="poly" title=" " alt="" coords="252,306,299,272,329,256,362,243,400,235,439,231,518,232,591,240,652,253,651,258,590,246,518,237,440,236,401,241,363,249,331,261,301,277,255,310"/>
<area shape="rect" href="Laser__Utils_8cpp.html#a79e6836f16e8a33a776a4d165b3c2a58" title="Checks if the current time is within the laser&#39;s stimulation period." alt="" coords="419,555,525,580"/>
<area shape="poly" title=" " alt="" coords="244,333,257,374,280,431,316,491,338,518,364,541,384,552,407,560,405,565,382,557,361,546,334,522,311,494,275,433,252,376,239,335"/>
<area shape="rect" href="Laser__Utils_8cpp.html#a2e02d0a0bff6e230e9d4c14e9c858479" title="Logs the laser stimulation period to the serial monitor." alt="" coords="436,259,508,284"/>
<area shape="poly" title=" " alt="" coords="261,313,422,279,423,284,263,318"/>
<area shape="rect" href="classLaser.html#af38ad74257fa02f353995dd762d778ff" title="Sets the logged state of the stimulation." alt="" coords="629,209,792,235"/>
<area shape="poly" title=" " alt="" coords="246,306,292,260,325,236,362,218,431,201,503,196,572,198,632,205,632,210,572,203,503,201,432,207,364,223,328,241,296,264,250,310"/>
<area shape="rect" href="Laser__Utils_8cpp.html#a0c086b00de6df27a18af9a681d766470" title="Controls the laser&#39;s on/off state based on stimulation settings." alt="" coords="417,107,527,132"/>
<area shape="poly" title=" " alt="" coords="241,307,258,275,284,232,319,188,361,149,402,130,405,134,364,154,322,191,288,235,262,277,246,309"/>
<area shape="rect" href="classLaser.html#a28a9eb7770672e8b73ad868a1a447c4a" title="Sets the laser action." alt="" coords="394,308,550,333"/>
<area shape="poly" title=" " alt="" coords="262,318,380,318,380,323,262,323"/>
<area shape="rect" href="classLaser.html#a7a969afb14ff3748f10928c231f8eda0" title="Sets the half&#45;cycle period for oscillation." alt="" coords="363,357,581,383"/>
<area shape="poly" title=" " alt="" coords="263,323,398,352,397,357,261,328"/>
<area shape="rect" href="classLaser.html#add3f8ed8bb28d95b640869e5c47be1aa" title="Sets the stimulation state." alt="" coords="397,407,547,432"/>
<area shape="poly" title=" " alt="" coords="257,331,304,362,364,393,386,401,384,406,362,398,301,367,254,336"/>
<area shape="poly" title=" " alt="" coords="525,559,627,549,627,554,525,565"/>
<area shape="poly" title=" " alt="" coords="525,570,624,581,623,586,525,576"/>
<area shape="poly" title=" " alt="" coords="509,269,546,276,565,283,583,293,609,317,632,346,668,408,692,468,706,517,701,518,687,470,663,410,628,349,606,321,580,297,563,288,545,281,508,274"/>
<area shape="poly" title=" " alt="" coords="509,267,548,273,567,281,583,293,607,328,616,362,615,397,609,431,603,465,602,499,610,533,631,567,634,570,631,574,627,570,605,535,597,500,598,465,604,430,610,396,611,363,602,330,579,297,564,286,546,278,508,272"/>
<area shape="poly" title=" " alt="" coords="508,269,628,269,628,274,508,274"/>
<area shape="poly" title=" " alt="" coords="508,261,635,235,636,240,509,267"/>
<area shape="poly" title=" " alt="" coords="527,105,580,85,604,66,628,46,643,40,645,44,631,51,607,70,583,90,529,110"/>
<area shape="rect" href="classLaser.html#a636afb9728e9f064926c42bccf177581" title="Gets the current stimulation state." alt="" coords="635,160,786,185"/>
<area shape="poly" title=" " alt="" coords="528,129,640,154,639,160,527,134"/>
<area shape="rect" href="classLaser.html#a246d8e4e16ffe74297f4b0c84b91ee2f" title="Turns the laser off." alt="" coords="669,61,752,87"/>
<area shape="poly" title=" " alt="" coords="527,106,655,82,656,87,528,112"/>
<area shape="rect" href="classLaser.html#a5591692df76c51c584f9dc5bbb563d04" title="Turns the laser on." alt="" coords="670,111,751,136"/>
<area shape="poly" title=" " alt="" coords="528,118,656,120,656,125,527,123"/>
</map>
</div>

</div>
</div>
<a id="ab303ec826d7ba1a203327c357ead0b28" name="ab303ec826d7ba1a203327c357ead0b28"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab303ec826d7ba1a203327c357ead0b28">&#9670;&#160;</a></span>stim()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void stim </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classLaser.html">Laser</a> &amp;&#160;</td>
          <td class="paramname"><em>laser</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>currentMillis</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Manages the laser's stimulation behavior based on time and frequency. </p>
<p>Manages the laser’s stimulation behavior.</p>
<p>Updates the laser's stimulation state and action, oscillating the laser if a frequency is set, or keeping it constant if frequency is 1 Hz.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">laser</td><td>Reference to the <a class="el" href="classLaser.html" title="A subclass of Device representing a laser with stimulation control.">Laser</a> object to stimulate. </td></tr>
    <tr><td class="paramname">currentMillis</td><td>Current time in milliseconds. </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="Laser__Utils_8cpp_ab303ec826d7ba1a203327c357ead0b28_cgraph.png" border="0" usemap="#aLaser__Utils_8cpp_ab303ec826d7ba1a203327c357ead0b28_cgraph" alt=""/></div>
<map name="aLaser__Utils_8cpp_ab303ec826d7ba1a203327c357ead0b28_cgraph" id="aLaser__Utils_8cpp_ab303ec826d7ba1a203327c357ead0b28_cgraph">
<area shape="rect" title="Manages the laser&#39;s stimulation behavior based on time and frequency." alt="" coords="5,281,56,307"/>
<area shape="rect" href="classLaser.html#a78c6fce82f25d716161cffc3ee30a03b" title="Checks if the laser is in the active cycle phase." alt="" coords="143,5,283,31"/>
<area shape="poly" title=" " alt="" coords="29,281,30,236,38,171,47,135,60,101,78,68,102,40,129,24,131,28,106,44,83,71,65,103,52,137,43,172,35,236,34,281"/>
<area shape="rect" href="classLaser.html#a3167595b150ae3b064d6decdb6e1aadd" title="Gets the laser pulse frequency." alt="" coords="137,55,290,80"/>
<area shape="poly" title=" " alt="" coords="30,281,35,245,47,195,68,143,83,119,102,97,122,83,125,88,106,101,88,122,73,146,52,197,40,246,36,281"/>
<area shape="rect" href="classLaser.html#ae5304e2800e5e56a81e0f615fd9c0c4d" title="Gets the current laser action." alt="" coords="373,60,531,85"/>
<area shape="poly" title=" " alt="" coords="32,280,38,251,52,214,72,174,102,141,138,128,203,112,360,84,360,89,204,118,140,133,106,146,77,177,56,216,44,253,37,282"/>
<area shape="rect" href="classLaser.html#aa10e3af3e1dca555ee84f09ad93ba219" title="Gets the half&#45;cycle end time." alt="" coords="112,205,315,231"/>
<area shape="poly" title=" " alt="" coords="49,279,103,248,145,232,147,237,105,252,52,283"/>
<area shape="rect" href="classLaser.html#a83a98a76ccd435b134674f529d651892" title="Checks if the stimulation has been logged." alt="" coords="383,257,521,283"/>
<area shape="poly" title=" " alt="" coords="56,290,368,272,369,277,56,295"/>
<area shape="rect" href="Laser__Utils_8cpp.html#a79e6836f16e8a33a776a4d165b3c2a58" title="Checks if the current time is within the laser&#39;s stimulation period." alt="" coords="161,356,266,381"/>
<area shape="poly" title=" " alt="" coords="49,305,74,323,105,341,148,355,146,360,103,346,71,328,45,309"/>
<area shape="rect" href="Laser__Utils_8cpp.html#a2e02d0a0bff6e230e9d4c14e9c858479" title="Logs the laser stimulation period to the serial monitor." alt="" coords="177,307,249,332"/>
<area shape="poly" title=" " alt="" coords="57,295,164,310,163,315,56,300"/>
<area shape="rect" href="classLaser.html#af38ad74257fa02f353995dd762d778ff" title="Sets the logged state of the stimulation." alt="" coords="371,405,533,431"/>
<area shape="poly" title=" " alt="" coords="39,306,63,350,82,373,105,392,135,406,167,417,233,429,299,432,359,429,359,435,299,438,233,434,166,422,133,411,103,396,78,377,58,353,35,308"/>
<area shape="rect" href="Laser__Utils_8cpp.html#a0c086b00de6df27a18af9a681d766470" title="Controls the laser&#39;s on/off state based on stimulation settings." alt="" coords="158,156,269,181"/>
<area shape="poly" title=" " alt="" coords="35,280,59,236,79,211,103,190,122,180,144,173,145,178,124,185,105,195,83,215,64,239,40,282"/>
<area shape="rect" href="classLaser.html#a28a9eb7770672e8b73ad868a1a447c4a" title="Sets the laser action." alt="" coords="135,457,291,483"/>
<area shape="poly" title=" " alt="" coords="37,306,58,369,78,405,106,436,127,450,125,454,102,440,74,408,53,371,32,308"/>
<area shape="rect" href="classLaser.html#a7a969afb14ff3748f10928c231f8eda0" title="Sets the half&#45;cycle period for oscillation." alt="" coords="104,507,323,532"/>
<area shape="poly" title=" " alt="" coords="35,306,39,344,50,394,71,448,86,472,106,493,111,497,107,501,102,497,82,476,66,450,45,396,34,344,30,307"/>
<area shape="rect" href="classLaser.html#add3f8ed8bb28d95b640869e5c47be1aa" title="Sets the stimulation state." alt="" coords="139,556,288,581"/>
<area shape="poly" title=" " alt="" coords="34,307,35,352,44,416,52,451,65,484,83,516,106,543,127,556,124,561,102,547,78,519,60,487,47,452,38,417,30,353,29,307"/>
<area shape="rect" href="classLaser.html#a82807c0ec5c98bf7aa0d64e9d43508fa" title="Gets the stimulation end time." alt="" coords="382,307,522,332"/>
<area shape="poly" title=" " alt="" coords="266,355,376,332,377,337,267,360"/>
<area shape="rect" href="classLaser.html#a6a3ad1b4ec4388618446dcf88750a888" title="Gets the stimulation start time." alt="" coords="379,356,525,381"/>
<area shape="poly" title=" " alt="" coords="266,366,365,366,365,371,266,371"/>
<area shape="poly" title=" " alt="" coords="249,309,376,283,377,288,250,315"/>
<area shape="poly" title=" " alt="" coords="249,317,368,317,368,322,249,322"/>
<area shape="poly" title=" " alt="" coords="250,324,377,351,376,356,249,329"/>
<area shape="poly" title=" " alt="" coords="250,319,287,326,324,341,340,354,349,367,358,380,372,392,383,398,381,402,369,396,354,383,345,370,336,357,321,346,285,331,249,324"/>
<area shape="poly" title=" " alt="" coords="268,155,321,134,335,125,345,115,355,105,369,94,383,88,386,93,372,99,358,109,349,119,339,129,324,139,270,160"/>
<area shape="rect" href="classLaser.html#a636afb9728e9f064926c42bccf177581" title="Gets the current stimulation state." alt="" coords="377,109,527,135"/>
<area shape="poly" title=" " alt="" coords="268,155,372,135,374,140,269,161"/>
<area shape="rect" href="classLaser.html#a246d8e4e16ffe74297f4b0c84b91ee2f" title="Turns the laser off." alt="" coords="411,159,493,184"/>
<area shape="poly" title=" " alt="" coords="269,167,397,168,397,173,269,172"/>
<area shape="rect" href="classLaser.html#a5591692df76c51c584f9dc5bbb563d04" title="Turns the laser on." alt="" coords="411,208,493,233"/>
<area shape="poly" title=" " alt="" coords="269,178,398,206,397,212,268,183"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="Laser__Utils_8cpp_ab303ec826d7ba1a203327c357ead0b28_icgraph.png" border="0" usemap="#aLaser__Utils_8cpp_ab303ec826d7ba1a203327c357ead0b28_icgraph" alt=""/></div>
<map name="aLaser__Utils_8cpp_ab303ec826d7ba1a203327c357ead0b28_icgraph" id="aLaser__Utils_8cpp_ab303ec826d7ba1a203327c357ead0b28_icgraph">
<area shape="rect" title="Manages the laser&#39;s stimulation behavior based on time and frequency." alt="" coords="159,5,209,31"/>
<area shape="rect" href="Laser__Utils_8cpp.html#a0e13a0e8a2e933f40482dbc1bfe67bb1" title="Oversees the laser&#39;s stimulation mode and timing." alt="" coords="5,5,111,31"/>
<area shape="poly" title=" " alt="" coords="145,21,111,21,111,15,145,15"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a35b29f5af0029faab2012f243c2b35e1" name="a35b29f5af0029faab2012f243c2b35e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a35b29f5af0029faab2012f243c2b35e1">&#9670;&#160;</a></span>differenceFromStartTime</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t differenceFromStartTime</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>External offset from the program start time (in milliseconds). </p>

</div>
</div>
<a id="aa8caff3a540c333384c5af436f68d738" name="aa8caff3a540c333384c5af436f68d738"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa8caff3a540c333384c5af436f68d738">&#9670;&#160;</a></span>laser</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classLaser.html">Laser</a> laser</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>External reference to the <a class="el" href="classLaser.html" title="A subclass of Device representing a laser with stimulation control.">Laser</a> object. </p>

</div>
</div>
<a id="a6972ba35faad57a94ac41bccf414b821" name="a6972ba35faad57a94ac41bccf414b821"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6972ba35faad57a94ac41bccf414b821">&#9670;&#160;</a></span>programIsRunning</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool programIsRunning</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>External flag indicating if the program is running. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
